(function(){var l={},i={},h=[],b=100,f=0,g=false,a=null,k=null,c=function(m){if(Object.freeze){return Object.freeze(m)}return m},j=function(){return window.location.href.split("#")},e=function(){if(!a){a=setInterval(function(){if(f>0&&k!=window.location.href){k=window.location.href;window.Hash.check()}},b)}},d=function(){if(a){clearInterval(a);a=null}};window.Hash=c({pushState:function(m){if(window.history&&window.history.pushState){g=m}return this},fragment:function(){var m=j();return(g)?window.location.pathname+((m[1])?"#"+m[1]:""):m[1]||""},get:function(q,r){var o,m="",n=[];for(o in r){if(!Object.prototype.hasOwnProperty(o)){continue}n.push(encodeURIComponent(o)+"="+encodeURIComponent(r[o]))}if(n.length>0){n="?"+n.join("&")}return(g)?q+n:j()[0]+"#"+q+n},go:function(m,n){if(this.fragment()!=m){var o=this.get(m,n);if(g){window.history.pushState(null,document.title,o)}else{window.location.href=o}}return this},update:function(){k=window.location.href;return this},on:function(m,o,n){if(!l[m]){l[m]={title:n,listeners:[]}}l[m].listeners.push(o);f++;e();return this},check:function(){var n,p,o,m=this.fragment();for(p in l){if(!Object.prototype.hasOwnProperty.call(l,p)){continue}l[p].regexp=l[p].regexp||new RegExp(p);if((o=l[p].regexp.exec(m))){if(l[p].title){document.title=l[p].title}for(n=0;n<l[p].listeners.length;n++){if(l[p].listeners[n].yep){l[p].listeners[n].yep(m,o)}}}else{for(n=0;n<l[p].listeners.length;n++){if(l[p].listeners[n].nop){l[p].listeners[n].nop(m)}}}}return this}})})();
